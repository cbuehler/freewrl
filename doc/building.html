<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><!-- -*- mode: html; coding: iso-8859-15; -*- -->
<HTML>
<HEAD>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15">
  <TITLE>The FreeWRL FAQ : building from sources</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" >
<TABLE>
<TR VALIGN=TOP>
<TD ALIGN=LEFT>
</TD>
<TD></TD>

<TD ALIGN=LEFT>
<H1><IMG SRC="welcome.jpg" ALIGN="MIDDLE"></H1>
</TD>
</TR>

<TD ALIGN=LEFT VALIGN=TOP>
<SMALL>
<BR><A HREF=index.html>Home Page</A>
<BR><A HREF=faq.html>FAQ</A>
<BR><A HREF=download.html>Download</A>
<BR><A HREF=http://sourceforge.net/project/?group_id=9120>Sourceforge</A>
<BR><A HREF=screenshots.html>Screenshots</A>
<BR><A HREF=freewrl.html>Users Guide</A>
<BR><A HREF=midi.html>MIDI</A>

</SMALL>
</TD>
<TD ALIGN=LEFT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TD>
<TD ALIGN=LEFT>

<h1>The FreeWRL FAQ : building from sources</h1>

<h2><a NAME="ChapterIntroduction"></a>Introduction</h2>

<p>This is the <b>Build from Sources</b> documentation. It tries to answer most 
questions about building FreeWRL from sources. If you encounter something
that is not covered on this FAQ, please send an email to John Stewart
at freewrl-09 -at- rogers.com.</p>

<h3>Mailing list</h3>

<p>There is a mailing list about FreeWRL. This is a closed list, so you
<b>must</b> be on the  list to send mail to it. (this is an anti-spam
measure).  The address is <a href="mailto:freewrl@crc.ca">freewrl@crc.ca</a>.
To subscribe to this list, send an email to <a href="mailto:freewrl-join@crc.ca">
freewrl-join@crc.ca</a>. The subject and contents of the message do not matter; 
you should get a reply to the request in a few minutes.</p>

<p>For more information on the mailing list interface, look at the 
<a href="http://www.gnu.org/software/mailman/mailman-member/node10.html">
GNU Mailman web page</a>.</p>

<h3>How can I help?</h3>

Tell us what you use FreeWRL for! It helps us in our internal funding
and planning cycle to know how FreeWRL is used- for certain kinds of
research, for industrial design, or for whatever.</p>

<p>We are always looking for coding help, but realize that FreeWRL
(and any project of this magnitude) is difficult for people to jump in
to. Giving us a pat on the back helps; telling us what FreeWRL is used
for helps; submitting bugs helps.</p>

<h2><a NAME="ChapterLinux"></a>(Linux) Building FreeWRL from sources on Linux computers</h2>

<h3>Linux requirements</h3>

<h3>Build process maintainer tools</h3>
<b>These are NOT needed except you intend to modify the build process files (configure.ac, Makefile.am, ...).</b>

<ul>
<li>automake (version >= 1.10)</li>
<li>autoconf (version >= 2.60)</li>
<li>libtool (version >= 2.2)</li>
</ul>

<h3>Build dependencies</h3>
<p>Packages required are from Debian (you can find similar packages in your distribution):</p>
<ul>
<li>X11 development files (package: x11-dev, libxxf86vm-dev, libxaw7-dev)</li>
<li>OpenGL development files (package: libgl-dev)</li>
<li>Motif library (optional, package: lesstif2-dev)</li>
<li>JPEG library (package: libjpeg62-dev)</li>
<li>PNG library (package: libpng12-dev)</li>
<li>XML library (package: libxml2-dev)</li>
<li>Expat library (package: libexpat1-dev)</li>
<li>Java compiler (optional, package: java-compiler)</li>
<li>Javascript Engine, SpiderMonkey for example (optional, package: libmozjs-dev)</li>
<li>Browser plugin development files (optional, package: iceape-dev)</li>
</ul>

<b>TODO: implement the source repository, then the following paragraph will be operable.</b>
<p>Debian trick to download and install all that (provided you installed our Debian repository in your sources):</p>
<pre>
sudo apt-get build-dep freewrl
</pre>

<h3>Runtime dependencies</h3>

<ul>
<li>X11 libraries (package: libxaw7)</li>
<li>OpenGL libraries (package: libgl1, libglu1)</li>
<li>Motif library (package: lesstif2)</li>
<li>Freetype library (package: libfreetype6)</li>
<li>PNG library (package: libpng12-0)</li>
<li>JPEG library (package: libjpeg62)</li>
<li>XML library (package: libxml2)</li>
<li>Expat library (package: libexpat1)</li>
<li>Javascript Engine library (package: libmozjs1d)</li>
<li>Java runtime environment (package: java-runtime)</li>
<li>Vera font (package: ttf-bitstream-vera)</li>
<li>Internet download helper (package: wget)</li>
<li>Sound converter (package: sox)</li>
<li>Image converter (package: convert)</li>
</ul>

<h3>Getting the sources</h3>

<p>Download the source package from Sourceforge.</p>

<p>Download the sources from CVS.</p>

<h3>Configure the package</h3>

<p>If you have installed all the dependencies in the system (/usr) you should be able to configure the package without option.

If you have installed any of them in special directory, you should provide this directoy to configure (see <tt>./configure --help</tt>).</p>

<pre>
./configure [options]
</pre>

<h3>Build the software</h3>

<pre>
make
</pre>

<p>Now decide where to install FreeWRL. Default is /usr/local.

If you choose to install it in your $HOME, provide this destination directory to make with the argument <tt>DESTDIR=mydir</tt>, or with a combination of <tt>DESTDIR</tt> and <tt>prefix</tt></p>

<p>Example 1 (normal install, in /usr/local):</p>
<pre>
make install [DESTDIR=...]
</pre>

<p>Example 2 (install in <tt>$HOME/freewrl</tt> without the annoying <tt>/usr</tt>):</p>
<pre>
make install DESTDIR=~/freewrl prefix=""
</pre>

<p>If you've choosen non-standard installation, don't forget to set <tt>PATH</tt> and <tt>LD_LIBRARY_PATH</tt> accordingly:<p>
<pre>
export PATH=~/freewrl/bin:$PATH
export LD_LIBRARY_PATH=~/freewrl/lib:$LD_LIBRARY_PATH
</pre>

<p>You can put those two lines in a little environment file that you'd source before using FreeWRL.</p>

<h2><a NAME="ChapterOSX"></a>(OSX) Building FreeWRL from sources on Apple computers</h2>

<h3>Building from source on OSX : X11 target</h3>

Currently the automatic build system knows about X11 only. In the future
it will handle also the Mac Carbon target.

<h4>Requirements: OSX build environment</h4>

You need to install the OSX development environment, the X11 package, 
and optionnaly the latest X11 server for OSX : XQuartz.

You need to install <a href="http://www.macports.org/">Mac Ports</a>
and those required packages :

<ul>
<li>pkgconfig</li>
<li>spidermonkey</li>
<li>libxml2</li>
<li>expat</li>
</ul>

<p><b>OSX build environment</b></p>

Install XCode (minimum version 1.3).

Install the X11 package from XCode.

<p><b>(Optional) XQuartz</b></p>

XQuartz offer an update X11 server for OSX. Apple ships the default
branch of it with every release of OSX. But if you want an updated
version you can grab it from XQartz website.

<p><b>Mac Ports installation:</b></p>

Install Mac Ports (http://www.macports.org/) and follow its intructions
for profile update.

Mac Ports update :

<pre>
$ sudo port selfupdate
</pre>

<p><b>Required packages installation:</b></p>

Open a Terminal window and type :

<pre>
$ sudo port install pkgconfig
$ sudo port install spidermonkey
$ sudo port install libxml2
$ sudo port install expat
</pre>

That'done :). You'll have a full functional GNU build env on OSX !

<h4>Building FreeWRL/FreeWRL from sources</h4>

For freewrl to configure, you'll issue in top src dir:  

<pre>
$ export PKG_CONFIG_PATH=$PWD:$PKG_CONFIG_PATH
</pre>

Configure :

<pre>
$ autoreconf
$ ./configure --enable-debug --with-target=motif
</pre>

Build :

<pre>
$ make
</pre>

Test it :

<pre>
$ src/bin/freewrl
</pre>

<i>Note: I've added spidermonkey.pc in freewrl top src dir. To help pkg-config
find the cflags & libs for this Javascript engine.</i>

<P>
<CENTER>
<a href="http://sourceforge.net"><img
src="http://sourceforge.net/sflogo.php?group_id=9120&amp;type=4"
ALIGN="MIDDLE"
width="125" height="37" border="0" alt="SourceForge.net Logo"></a>
</CENTER>


</TD>
</TR>
</TABLE>
</BODY>
</HTML>

